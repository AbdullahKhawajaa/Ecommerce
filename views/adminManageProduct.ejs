<div class="container">
  <div class="table-wrapper">
    <div class="table-title">
      <div class="row">
        <div class="col-sm-8">
          <h2>
            <b>Products </b>List
            <a href="/listproduct" class="">
              <i class="fas fa-plus-circle" style="color:green"></i>
            </a>
          </h2>
        </div>
        <div class="col-sm-4" style="margin-bottom: 5%;">
          <div class="search-box">
            <i class="material-icons">&#xE8B6;</i>
            <input
              type="text"
              class="form-control"
              placeholder="Search&hellip;"
            />
          </div>
        </div>
      </div>
      
    </div>

    <table class="table table-striped table-hover table-bordered">
      <thead>
        <tr>
          <th>ID <i class="fa fa-sort"></i></th>
          <th>Product Name</th>
          <th>Price <i class="fa fa-sort"></i></th>
          <th>Image</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody> 
        <% data.forEach(function(product) { %>
        <tr>
          <td><%- product._id%></td>
          <td><%- product.name%></td>
          <td><%- product.price%></td>
          <td style="width: 300px;"><img src="data:image/<%= product.image.contentType%>;base64,<%= product.image.data.toString('base64')%>"
             alt="<%- product.name %>" style="width:250px;height:100px;"></td>
          <td class="Action">
               <a href="/users/update/<%=product._id%>" style="background-color: orange;">Update</a>
               <a href="/users/delete/<%=product._id%>" style="background-color: red">Delete</a>
          </td>
        </tr>
        <% }); %>
      </tbody>
    </table>
    <div class="center">
      <% if (pages > 0) { %>
        <div class="center"></div>
        <div class="pagination">
        <% if(current == 1) { %>
        <a class="disabled">&laquo;</a>
        <% } else { %>
        <a href="/adminManageProduct/1">&laquo;</a>
        <% } %>
        <% var i = (Number(current) > 5 ? Number(current) - 4 : 1) %>
        <% if (i !== 1) { %>
          <li class="disabled"></li>
        <% } %>
        <% for (; i <= (Number(current) + 4) && i <= pages; i++) { %>
          <% if (i == current) { %>
            <a class="active"><%= i %></a>
          <% } else { %>
            <a href="/adminManageProduct/<%= i %>"><%= i %></a>
          <% } %>
          <% if (i == Number(current) + 4 && i < pages) { %>
            <li class="disabled"></li>
          <% } %>
        <% } %>
        <% if (current == pages) { %>
          <li class="disabled"></li>
        <% } else { %>
          <a href="/adminManageProduct/<%= pages %>">&raquo;</a>
        <% } %>
        </div>
      </div>
      <% } %>
    </div>
  </div>
</div>

<style>
 /*Pagination*/
 .center {
  text-align: center;
}

.pagination {
  display: inline-block;
}

.pagination a {
  color: yellow;
  float: left;
  padding: 8px 16px;
  text-decoration: none;
  transition: background-color .3s;
  border: 1px solid #ddd;
  margin: 0 4px;
}

.pagination a.active {
  background-color: yellow;
  color: black;
  border: 1px solid #4CAF50;
}

.pagination a:hover:not(.active) {background-color: #ddd;}
  /*----------------------------*/


  .Action a {
  margin-left: 10%;
  font-size: 16px;
  transition: ease-in all 0.5s;
  color: #fff;
  padding: 10px 0px;
  max-width: 250px;
  border-radius: 10px;
  width: 250px;
  font-weight: 500;
  text-transform: uppercase;
}

</style>
